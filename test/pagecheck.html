<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complex Interactive Webpage</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-900 transition-all duration-300">

    <div class="min-h-screen flex flex-col items-center justify-center p-6">
        
        <!-- Title -->
        <h1 class="text-3xl font-bold mb-4 transition-opacity duration-500 opacity-100">Tailwind + Vanilla JS</h1>

        <!-- Dark Mode Toggle -->
        <button id="toggleTheme" class="px-4 py-2 rounded-full text-white font-semibold bg-blue-500 transition-colors duration-300">
            Toggle Dark Mode
        </button>

        <!-- Counter -->
        <div class="mt-6 flex space-x-4">
            <button id="increment" class="px-4 py-2 bg-green-500 text-white rounded shadow-lg">+</button>
            <span id="counter" class="text-xl font-semibold">0</span>
            <button id="decrement" class="px-4 py-2 bg-red-500 text-white rounded shadow-lg">-</button>
        </div>

        <!-- Name Input -->
        <div class="mt-6 w-full max-w-md">
            <input id="nameInput" class="w-full p-2 border rounded focus:outline-none focus:ring focus:ring-blue-300" type="text" placeholder="Enter your name">
            <p id="greeting" class="mt-2 text-lg font-semibold"></p>
        </div>

        <!-- Post Search -->
        <div class="mt-6 w-full max-w-md">
            <input id="searchInput" class="w-full p-2 border rounded focus:outline-none focus:ring focus:ring-blue-300" type="text" placeholder="Search posts...">
        </div>

        <!-- Posts List -->
        <ul id="postsList" class="mt-4 space-y-2 w-full max-w-md"></ul>
    </div>

    <script>
        // Dark Mode Toggle
        const body = document.body;
        const toggleThemeBtn = document.getElementById("toggleTheme");
        toggleThemeBtn.addEventListener("click", () => {
            body.classList.toggle("bg-gray-900");
            body.classList.toggle("text-white");
            body.classList.toggle("text-gray-900");
        });

        // Counter
        let count = 0;
        const counter = document.getElementById("counter");
        document.getElementById("increment").addEventListener("click", () => {
            count++;
            counter.textContent = count;
        });
        document.getElementById("decrement").addEventListener("click", () => {
            count--;
            counter.textContent = count;
        });

        // Greeting Input
        document.getElementById("nameInput").addEventListener("input", (event) => {
            document.getElementById("greeting").textContent = event.target.value ? `Hello, ${event.target.value}!` : "";
        });

        // Fetch Posts & Search Functionality
        const postsList = document.getElementById("postsList");
        const searchInput = document.getElementById("searchInput");

        fetch("https://jsonplaceholder.typicode.com/posts?_limit=5")
            .then(response => response.json())
            .then(data => {
                const renderPosts = (filter = "") => {
                    postsList.innerHTML = "";
                    data.filter(post => post.title.includes(filter)).forEach(post => {
                        const li = document.createElement("li");
                        li.classList.add("p-3", "bg-gray-200", "rounded-lg", "shadow-md", "transition-all", "duration-300");
                        li.innerHTML = `<strong>${post.title}</strong>: ${post.body}`;
                        postsList.appendChild(li);
                    });
                };

                renderPosts();

                searchInput.addEventListener("input", (event) => {
                    renderPosts(event.target.value);
                });
            });
    </script>

</body>
</html>
